<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />

    <meta property="og:url"           content="http://127.0.0.1:5500/GivingLove/index.html" />
    <meta property="og:type"          content="website" />
    <meta property="og:title"         content="I gave many loves" />
    <meta property="og:description"   content="Your description" />
    <meta property="og:image"         content="https://www.your-domain.com/path/image.jpg" />




    <title>Giving Fucks</title>
    <link rel="stylesheet" type="text/css" href="style.css" />
    <!-- Compiled and minified CSS -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"
    />
  </head>
  <body>
    <!-- Load Facebook SDK for JavaScript -->
    <div id="fb-root"></div>
    <script async defer src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.2&appId=2226032327651593&autoLogAppEvents=1"></script>

    <section id="section1">
      <header id="welcome" class="center-align" style="margin-top: 10%; margin-bottom: 0%;">
        <h4>Welcome to How Many Fucks Given.</h4>
        <h4>Where you see how many loves you can give..</h4>
      </header>
      <div class="center-align" style="margin-top: 10%;">
        <span class="col s12 l4">
          <button
            class="btn-large black darken-2 z-depth-0 modal-trigger"
            style="display:none; margin-right: 1%; margin-top: 2vh;"
            data-target="modal-login"
            id="login"
          >
            Login
          </button>
        </span>
        <span class="col s12 l4">
          <button
            class="btn-large black darken-2 z-depth-0 col s12 l4"
            id="logout"
            style="display:none; margin-right: 1%; margin-top: 2vh;"
          >
            Logout
          </button>
        </span>
        <span>
          <button
            class="btn-large black darken-2 z-depth-0 modal-trigger col s12 l4"
            style="display:none; margin-right: 1%; margin-top: 2vh;"
            data-target="modal-signup"
            id="signup"
          >
            Signup
          </button>
        </span>
        <span>
          <button
            class="btn-large black darken-2 z-depth-0 "
            id="guest"
            style="display:none; margin-right: 1%; margin-top: 2vh;"
          >
            Continue as Guest
          </button>
        </span>
      </div>

      <!-- SIGN UP MODAL -->
      <div id="modal-signup" class="modal">
        <div class="modal-content">
          <h4>Sign up</h4>
          <br />
          <form id="signup-form">
            <div class="input-field">
              <input type="email" id="signup-email" required />
              <label for="signup-email">Email address</label>
            </div>
            <div class="input-field">
              <input type="password" id="signup-password" required />
              <label for="signup-password">Choose password</label>
            </div>
            <div class="input-field">
              <input type="text" id="signup-bio" required />
              <label for="signup-bio">Your name</label>
            </div>
            <button class="btn black darken-2 z-depth-0">Sign up</button>
            <p class="error pink-text center-align"></p>
          </form>
        </div>
      </div>

      <!-- LOGIN MODAL -->
      <div id="modal-login" class="modal">
        <div class="modal-content">
          <h4>Login</h4>
          <br />
          <form id="login-form">
            <div class="input-field">
              <input type="email" id="login-email" required />
              <label for="login-email">Email address</label>
            </div>
            <div class="input-field">
              <input type="password" id="login-password" required />
              <label for="login-password">Your password</label>
            </div>
            <button class="btn black darken-2 z-depth-0">Login</button>
            <button
                class="btn black darken-2 z-depth-0 modal-trigger col s12 l4"
                data-target="modal-signup">
                Signup </button>
            <p class="error pink-text center-align"></p>
          </form>
        </div>
      </div>

     

      <!-- ASK LOGIN MODAL -->
      <div id="modal-asklogin" class="modal" style="min-width: 320px;">
        <div class="modal-content">
          <div id="asklogin-instruct">
          <h5>
            "Log in" to give something other than "fucks" and "loves".
          </h5>
          <i>Suggestions: "positivity", "ass", "oh my god so good" (Be sure to
            turn up your device volume)</i>
          <h5>"Nah" to replay the lame free version</h5>
        </div>
        <!-- Your share button code -->
        <div class="fb-share-button" data-href="http://127.0.0.1:5500/GivingLove/index.html" data-title="Hola mundo" data-layout="button" data-size="small" data-mobile-iframe="true"><a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdevelopers.facebook.com%2Fdocs%2Fplugins%2F&amp;src=sdkpreparse" class="fb-xfbml-parse-ignore">Share</a></div>
          <div id="asklogin-fuckStatus"></div>
          <br />
          <div class="center-align">
            <button
              class="btn-large black darken-2 z-depth-0"
              style="margin-top: 2vh;"
              id="yeah"
            >
              Login
            </button>

            <button
              class="btn-large black darken-2 z-depth-0"
              style="margin-top: 2vh; padding-left: 1vw; padding-right: 1vw; min-width: 289px;"
              id="moreFucks"
            >
              
            </button>
            <button
              class="btn-large black darken-2 z-depth-0"
              style="margin-top: 2vh;"
              id="nah"
            >
              Nah
            </button>
          </div>
        </div>
      </div>
      <!-- Ask payment modal-->
      <div id="modal-fuckPayment" class="modal">
        <div class="modal-content">
          <div id="header-fuckPayment">
          </div>
          <header id="whatU"></header>
          <br />
          <div
            id="paypal-button-container"
            style="width: 10vw; margin-top: 2vh; text-align: center; "
          ></div>
        </div>
      </div>
    </section>

    <section id="section2">
      <form>
        <div class="row" style="margin-top:20%;">
            <div class="center-align">
                <label
                  class="active"
                  for="fieldInput-premium"
                  id="labelInput"
                  style="font-size: 2.7vw; display: block;"
                  >What would you like to give?</label
                >
            <div class="input-field">   
              <input
                id="fieldInput-premium"
                type="text"
                autocomplete="off"
                placeholder="good shit only.."
              />
             </div>
            </div>
        </div>
            <div class="center-align" style="margin-top: 2vh;">
              <button
                class="btn-large black darken-2 z-depth-0"
                id="fuckButton"
                style="display: none;"
              >
                fuck
              </button>
              <button
                class="btn-large black darken-2 z-depth-0"
                id="loveButton"
                style="display: none;"
              >
                love
              </button>
            </div>
      </div>
      </form>
    </section>

    <section id="section3">   
       <!-- <div class="footer-copyright darken-4"><div class="container center-align">&copy; 2019 形客英语</div></div>-->
      <!-- <div class="footer-copyright darken-4" style="position: absolute; top: 95%; left:45%;">&copy; 2019 形客英语</div>-->
  </section>
   
  <section id="section4">
Mark for section 4



  </section>

    <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-firestore.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyARN_48vH28jpHXFfBvxiNfnYE6I1RkGTE",
        authDomain: "giving-fucks.firebaseapp.com",
        databaseURL: "https://giving-fucks.firebaseio.com",
        projectId: "giving-fucks",
        storageBucket: "",
        messagingSenderId: "145183730410"
      };
      firebase.initializeApp(config);
      const auth = firebase.auth();
      const db = firebase.firestore();
    </script>

    <script type="text/javascript">
      //global variables
      var text = "";
      var idNumber = 2;
    </script>
    <script type="text/javascript" src="./setPosition.js"></script>
    <script type="text/javascript" src="./addLove.js"></script>
    <script type="text/javascript" src="./takeUserInput.js"></script>
    <script type="text/javascript" src="./homeScreen.js"></script>
    <script type="text/javascript" src="./restart.js"></script>
    <script type="text/javascript" src="./leaderboard.js"></script>
    <script type="text/javascript" src="./fuckPayment.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.js"></script>
    <script>
      $(document).ready(function() {
        $(".scrollspy").scrollSpy();
      });
    </script>
    <script src="https://www.paypal.com/sdk/js?client-id=AaUC36PZru6KSWA3FJ9ITTwedFUgKh6KRD-pugBy2EkT3eNfFHG-IO7Yln6HRZBtCwmXEI5VwAPGu0Y2"></script>

    <script>
      paypal
        .Buttons({
          style: {
            layout: "vertical",
            color: "silver",
            shape: "rect",
            label: "paypal",
            height: 45
          },
          createOrder: function(data, actions) {
            return actions.order.create({
              purchase_units: [
                {
                  amount: {
                    value: "1.00",
                    currency: "USD"
                  }
                }
              ]
            });
          },
          onApprove: function(data, actions) {
            // Capture the funds from the transaction
            return actions.order.capture().then(function(details) {
              // update their fucks in their db
              /*
              db
        .collection("users")
        .doc(cred.user.uid).update({
          fucks: 
        })*/

          // This part gets the number of fucks in the user
  db.collection("users").doc(userCred.uid).get().then(function(doc) {
    if (doc.exists) {
       var updatedFucks = doc.data().fucks + 20
        console.log("currentFucks:", updatedFucks);
        db
        .collection("users")
        .doc(userCred.uid).update({
          fucks: updatedFucks
        })


    } else {
        console.log("No such document!");
    }
}).catch(function(error) {
    console.log("Error getting fucks:", error);
});




              // Show a success message to your buyer
              //paypal.checkout.closeFlow();
              const modal = document.querySelector("#modal-fuckPayment");
              M.Modal.getInstance(modal).close();
              total = total + 20;
              document.getElementById("instruction1").innerHTML =
              `<span class="green-text">Ok, baller, you have 20 more ${text}s now</span>`;
              instructChange1 = idNumber + 1;
              instructChange2 = idNumber + 4;
              instructChange3 = idNumber + 12;
              instructChange4 = idNumber + 18;
            });
          }
        })
        .render("#paypal-button-container");
    </script>
  </body>
</html>
